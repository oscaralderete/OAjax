/*!
@author:NaNme@oscaralderete.com>
@website: https://oscaralderete.com
@editor:NetBeans IDE v12.5
*/"use strict";var App={ajax:new OAjax(pageData.url),current_lang:"en",btn_text:{en:"Texto en espa\xF1ol usando Ajax",es:"Switch to English using Ajax"},user:{name:"",surname:"",preferred_lang:""},init:function init(){this.setBtnText();this.bindInputs()},setBtnText:function setBtnText(){document.getElementById("btn-translate").innerHTML=this.btn_text[this.current_lang]},translate:function translate(){var _this=this;var lang=this.current_lang==="en"?"es":"en";this.ajax.post({action:"translateIntroText",data:{lang:lang}},function(response){if(response.result==="OK"){_this.current_lang=lang;_this.setBtnText();document.getElementById("text").innerHTML=response.html}else{alert(response.message)}})},bindInputs:function bindInputs(){var _this2=this;var inputs=document.querySelectorAll("form > .my_data");inputs.forEach(function(el){el.addEventListener("change",function(e){var obj=e.target;_this2.user[obj.id]=obj.value})})},submitForm:function submitForm(e){var _this3=this;e.preventDefault();if(this.user.preferred_lang===""){return false}this.successMsg("");this.ajax.post({action:"submitForm",data:{user:this.user}},function(response){if(response.result==="OK"){_this3.successMsg("<div class=\"alert-success\">".concat(response.message,"</div>"));document.getElementById("my-form").reset()}else{alert(response.message)}})},successMsg:function successMsg(str){document.getElementById("success-msg").innerHTML=str},reloadTiles:function reloadTiles(){this.ajax.post({action:"reloadTiles",data:{tiles:event.target.value}},function(response){if(response.result==="OK"){document.getElementById("tiles").innerHTML=response.html;document.getElementById("scroll-trigger").click()}else{alert(response.message)}})},test:function test(){this.ajax.post({action:"test",data:{name:"John",surname:"Doe",hobbies:["surfing","biking","coding","reading"],other:{age:21,genre:"Male"}}},function(response){console.log("result:",response)})}};window.onload=function(e){App.init()};
