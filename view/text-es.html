<h1>OAjax - Hacer llamadas Ajax en WordPress sin jQuery!</h1>
<p class="highlighted">Descárgate el proyecto en Github: <a href="https://github.com/oscaralderete/oajax">https://github.com/oscaralderete/oajax</a></p>
<p>Las útimas versiones de WordPress no cargan jQuery en el front-end por defecto, así que cuando recientemente tuve que desarrollar un plugin a medida que requería usar jQuery para hacer unas llamadas Ajax decidí escribir este código para evitarme cargar toda la librería si sólo necesitaba el método ajax(). Y aunque fue hecha pensando en WordPress es posible usarlo en cualquier otro proyecto que necesite postear datos "form-encoded" (aplicaciones SPA o SSR como esta misma aplicación).</p>
<p>Desde hace un tiempo you uso la interfaz de JavaScript fetch() en todos mis proyectos, es agnóstica dado que no necesita librerías externas, es moderna, es cool.</p>
<p>Pero el "problema" con WordPress era serializar los datos de forma correcta, especialmente datos anidados. Y cuando ya había decidido escribir mi propio script para hacer la serialización, me encontré este código (¿después de todo, qué necesidad hay de re-inventarse la rueda?): <a href="https://www.codegrepper.com/code-examples/javascript/javascript+url+encode+object+recursive" target="_blank">https://www.codegrepper.com/code-examples/javascript/javascript+url+encode+object+recursive</a>. </p>
<p>La solución final fue empaquetada como una clase JS, la URL del web service se define al instanciarse la variable. Bien, nada más que decir; revisa los ejemplos y comienza a jugar con este sencillo pero muy eficiente código (habilita el Inspector de tu navegador para verificar las interacciones Ajax):</p>